(this["webpackJsonpalgorithm-visualizer"]=this["webpackJsonpalgorithm-visualizer"]||[]).push([[0],{10:function(e,t,i){e.exports={mazeContainer:"Maze_mazeContainer__3Exuk",maze:"Maze_maze__2NaIp"}},13:function(e,t,i){e.exports={selectionBar:"SelectionBar_selectionBar__14QJ9"}},18:function(e,t,i){},19:function(e,t,i){},23:function(e,t,i){"use strict";i.r(t);var n=i(1),r=i.n(n),o=i(12),a=i.n(o),s=(i(18),i(19),i(13)),c=i.n(s),h=i(0),l=function(){return Object(h.jsx)("div",{className:c.a.selectionBar,children:Object(h.jsx)("h1",{children:"Maze Generator"})})},u=i(2),d=i(10),f=i.n(d),v=i(6),g=i(5),b=i(7),m=i(4),j=i(3),x=function e(){Object(m.a)(this,e),this.N=void 0,this.E=void 0,this.S=void 0,this.W=void 0,this.N=!0,this.E=!0,this.S=!0,this.W=!0},y=function e(t,i){Object(m.a)(this,e),this.x=void 0,this.y=void 0,this.walls=void 0,this.visited=void 0,this.backtracked=void 0,this.x=t,this.y=i,this.walls=new x,this.visited=!1,this.backtracked=!1},w=function(){function e(t,i){var n=this;Object(m.a)(this,e),this.height=void 0,this.width=void 0,this.grid=void 0,this.stack=void 0,this.frames=void 0,this.algorithm=void 0,this.possibleMoves=function(e){var t=[];return e.y-1>=0&&!n.grid[e.x][e.y-1].visited&&t.push("N"),e.x+1<n.width&&!n.grid[e.x+1][e.y].visited&&t.push("E"),e.y+1<n.height&&!n.grid[e.x][e.y+1].visited&&t.push("S"),e.x-1>=0&&!n.grid[e.x-1][e.y].visited&&t.push("W"),t},this.height=i<=50?i:50,this.width=t<=50?t:50,this.grid=[],this.stack=[],this.algorithm="grid";for(var r=0;r<t;r++){for(var o=[],a=0;a<i;a++)o.push(new y(r,a));this.grid.push(o)}this.frames=Object(j.cloneDeep)([this.grid]),this.grid[0][0].visited=!0}return Object(b.a)(e,[{key:"generateMaze",value:function(e){}},{key:"draw",value:function(e,t,i){e.clearRect(0,0,t*this.width,t*this.height),e.beginPath(),this.frames[i].forEach((function(i){e.strokeStyle="#800080",e.lineWidth=5,i.forEach((function(i){e.fillStyle="#FDA4BA",i.visited&&!i.backtracked&&e.fillRect(i.x*t,i.y*t,t+1,t+1),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,this.width*t,this.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(this.width*t,this.height*t-5),e.lineTo(this.width*t,this.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(this.width*t-t/4*3,this.height*t-t/4*3),e.lineTo(this.width*t-t/4,this.height*t-t/2),e.lineTo(this.width*t-t/4*3,this.height*t-t/4),e.fill()}}]),e}(),O=function(e){Object(v.a)(i,e);var t=Object(g.a)(i);function i(e,n){var r;return Object(m.a)(this,i),(r=t.call(this,n,e)).generateMaze=function(e){var t=Object(j.cloneDeep)(r.grid);r.frames.push(t);var i=r.possibleMoves(e),n=i[Math.floor(Math.random()*i.length)],o=function(t){switch(t){case"N":return r.grid[e.x][e.y-1];case"E":return r.grid[e.x+1][e.y];case"S":return r.grid[e.x][e.y+1];case"W":return r.grid[e.x-1][e.y];default:return null}}(n),a=function(e){switch(e){case"N":return"S";case"E":return"W";case"S":return"N";case"W":return"E";default:return null}}(n);if(o||r.stack.length>0)if(o&&a)r.stack.push(e),e.walls[n]=!1,o.walls[a]=!1,o.visited=!0,r.generateMaze(o);else{e.backtracked=!0;var s=r.stack.pop();s&&r.generateMaze(s)}},r.algorithm="recursiveBacktrackGenerate",r.generateMaze(r.grid[0][0]),r}return i}(w),p=i(11),S=function(e){Object(v.a)(i,e);var t=Object(g.a)(i);function i(e){var n;return Object(m.a)(this,i),(n=t.call(this,e)).distanceFromSource=void 0,n.moveCost=void 0,n.onPath=void 0,n.distanceFromSource=1/0,n.moveCost=1,n.onPath=!1,n}return Object(b.a)(i,[{key:"setDistanceFromSource",value:function(e){this.distanceFromSource=e}}]),i}(function(e){Object(v.a)(i,e);var t=Object(g.a)(i);function i(e){var n;return Object(m.a)(this,i),(n=t.call(this,e.x,e.y)).visited=void 0,n.walls=void 0,n.visited=!1,n.walls=e.walls,n}return i}(y)),k=function(e){Object(v.a)(i,e);var t=Object(g.a)(i);function i(e){var n;return Object(m.a)(this,i),(n=t.call(this,e.width,e.height)).height=void 0,n.width=void 0,n.grid=void 0,n.frames=void 0,n.getUnvisitedNeighbours=function(e){var t=[];Object.entries(e.walls).forEach((function(e){var i=Object(u.a)(e,2),n=i[0];i[1]&&t.push(n)}));return["N","E","S","W"].filter((function(e){return!t.includes(e)})).map((function(t){return function(t){switch(t){case"N":return n.grid[e.x][e.y-1].visited?null:n.grid[e.x][e.y-1];case"E":return n.grid[e.x+1][e.y].visited?null:n.grid[e.x+1][e.y];case"S":return n.grid[e.x][e.y+1].visited?null:n.grid[e.x][e.y+1];case"W":return n.grid[e.x-1][e.y].visited?null:n.grid[e.x-1][e.y];default:return null}}(t)})).filter((function(e){return e instanceof S}))},n.height=e.height,n.width=e.width,n.frames=[],n.algorithm="DijkstraSolve",n.grid=e.grid.map((function(e){return e.map((function(e){return new S(e)}))})),n}return Object(b.a)(i,[{key:"getBestPathNeighbor",value:function(e){var t=this,i=[];Object.entries(e.walls).forEach((function(e){var t=Object(u.a)(e,2),n=t[0];t[1]&&i.push(n)}));return["N","E","S","W"].filter((function(e){return!i.includes(e)})).map((function(i){return function(i){switch(i){case"N":return t.grid[e.x][e.y-1].onPath?null:t.grid[e.x][e.y-1];case"E":return t.grid[e.x+1][e.y].onPath?null:t.grid[e.x+1][e.y];case"S":return t.grid[e.x][e.y+1].onPath?null:t.grid[e.x][e.y+1];case"W":return t.grid[e.x-1][e.y].onPath?null:t.grid[e.x-1][e.y];default:return null}}(i)})).filter((function(e){return e instanceof S})).reduce((function(e,t){return e.distanceFromSource<t.distanceFromSource?e:t}))}},{key:"draw",value:function(e,t,i){e.clearRect(0,0,t*this.width,t*this.height),void 0!==this.frames[i]&&(e.strokeStyle="#800080",e.lineWidth=5,e.beginPath(),this.frames[i].forEach((function(i){i.forEach((function(i){i.visited&&(e.fillStyle="#FDA4BA",e.fillRect(i.x*t,i.y*t,t+1,t+1)),i.onPath&&(e.fillStyle="#00BFFF",e.fillRect(i.x*t,i.y*t,t,t)),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,this.width*t,this.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(this.width*t,this.height*t-5),e.lineTo(this.width*t,this.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(this.width*t-t/4*3,this.height*t-t/4*3),e.lineTo(this.width*t-t/4,this.height*t-t/2),e.lineTo(this.width*t-t/4*3,this.height*t-t/4),e.fill())}}]),i}(w),T=function(e,t){t.getUnvisitedNeighbours(e).forEach((function(t){!function(e,t){t.distanceFromSource=e.distanceFromSource+t.moveCost}(e,t)}))},F=function(e){var t=performance.now(),i=new k(e),n=i.grid[i.width-1][i.height-1],r=function(e){var t,i=[],n=Object(p.a)(e);try{for(n.s();!(t=n.n()).done;){var r,o=t.value,a=Object(p.a)(o);try{for(a.s();!(r=a.n()).done;){var s=r.value;i.push(s)}}catch(c){a.e(c)}finally{a.f()}}}catch(c){n.e(c)}finally{n.f()}return i}(i.grid),o=i.grid[0][0];for(o.distanceFromSource=0;r.length;){r.sort((function(e,t){return e.distanceFromSource-t.distanceFromSource}));var a=r.shift();if(void 0===a)break;if(a.distanceFromSource===1/0)break;if(a===n)break;a.visited=!0,T(a,i),i.frames.push(Object(j.cloneDeep)(i.grid))}for(var s=n;s!==o;){console.log(s),s.onPath=!0;var c=i.getBestPathNeighbor(s);i.frames.push(Object(j.cloneDeep)(i.grid)),s=c}o.onPath=!0,i.frames.push(Object(j.cloneDeep)(i.grid));var h=performance.now();return console.log("solved in:",h-t,"milliseconds.",i),i},E=function(e){var t=e.maze,i=e.delayBetweenFrames,r=Object(n.useRef)(null),o=Object(n.useState)(0),a=Object(u.a)(o,2),s=a[0],c=a[1],l=Object(n.useState)(!1),d=Object(u.a)(l,2),f=d[0],v=d[1],g=Object(n.useState)(1),b=Object(u.a)(g,2),m=b[0],j=b[1],x=Object(n.useState)(document.createElement("canvas").getContext("2d")),y=Object(u.a)(x,2),w=y[0],O=y[1];return Object(n.useEffect)((function(){c(0);var e=r.current,i=e.getContext("2d"),n=e.parentElement;if(!f){i.canvas.width=null===n||void 0===n?void 0:n.offsetWidth,i.canvas.height=null===n||void 0===n?void 0:n.offsetHeight;for(var o=1;o*t.height<i.canvas.height-50&&o*t.width<i.canvas.width-50;)o+=1;j(o),v(!0),i.translate(5,5),O(i)}}),[t,f]),Object(n.useEffect)((function(){if(!w)throw new Error("No context");t.draw(w,m,s),setTimeout((function(){s+1<t.frames.length&&c(s+1)}),i)}),[s,w,t,m,i]),Object(h.jsx)("canvas",{ref:r})},N=function(){var e=Object(n.useState)({width:15,height:10}),t=Object(u.a)(e,1)[0],i=Object(n.useState)(new w(t.width,t.height)),r=Object(u.a)(i,2),o=r[0],a=r[1],s=Object(n.useState)(1),c=Object(u.a)(s,2),l=c[0],d=c[1];Object(n.useEffect)((function(){console.log(o)}),[o]);return Object(h.jsx)("div",{className:f.a.mazeContainer,children:Object(h.jsxs)("div",{className:f.a.maze,id:"maze",children:[Object(h.jsx)(E,{maze:o,delayBetweenFrames:l}),Object(h.jsx)("button",{onClick:function(){a(Object(j.cloneDeep)(o))},children:"Re-run"}),Object(h.jsx)("button",{onClick:function(){a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=performance.now(),n=new O(t,e),r=n.frames.pop();r&&(r[0][0].backtracked=!0,n.frames.push(r));var o=performance.now();return console.log("maze generated in: ",o-i," milliseconds."),n}(t.width,t.height))},children:"New maze"}),"Interval:"," ",Object(h.jsx)("input",{type:"number",min:"0",max:"2000",defaultValue:l,onChange:function(e){var t=Number(e.target.value);t=Math.max(t,0),t=Math.min(t,2e3),d(t)}})," ","ms.",Object(h.jsx)("button",{onClick:function(){a(F(Object(j.cloneDeep)(o)))},children:"Solve"})]})})};var P=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(l,{}),Object(h.jsx)(N,{})]})},z=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,24)).then((function(t){var i=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;i(e),n(e),r(e),o(e),a(e)}))};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root")),z()}},[[23,1,2]]]);
//# sourceMappingURL=main.0c1eb99d.chunk.js.map