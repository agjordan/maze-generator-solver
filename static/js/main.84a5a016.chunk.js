(this["webpackJsonpalgorithm-visualizer"]=this["webpackJsonpalgorithm-visualizer"]||[]).push([[0],{11:function(e,t,i){e.exports={mazeContainer:"Maze_mazeContainer__3Exuk",maze:"Maze_maze__2NaIp"}},14:function(e,t,i){e.exports={selectionBar:"SelectionBar_selectionBar__14QJ9"}},19:function(e,t,i){},20:function(e,t,i){},24:function(e,t,i){"use strict";i.r(t);var n=i(1),r=i.n(n),o=i(13),a=i.n(o),c=(i(19),i(20),i(14)),l=i.n(c),h=i(0),s=function(){return Object(h.jsx)("div",{className:l.a.selectionBar,children:Object(h.jsx)("h1",{children:"Maze Generator"})})},u=i(2),d=i(11),f=i.n(d),v=i(7),g=i(5),m=i(4),b=i(3),y=i(6),j=function(e,t){var i=[];return e.y-1>=0&&!t[e.x][e.y-1].visited&&i.push("N"),e.x+1<t.length&&!t[e.x+1][e.y].visited&&i.push("E"),e.y+1<t[0].length&&!t[e.x][e.y+1].visited&&i.push("S"),e.x-1>=0&&!t[e.x-1][e.y].visited&&i.push("W"),i},w=function(e,t,i){var n=[];return i-1>=0&&n.push("N"),t+1<e.length&&n.push("E"),i+1<e[0].length&&n.push("S"),t-1>=0&&n.push("W"),n},x=function(e){switch(e){case"N":return"S";case"E":return"W";case"S":return"N";case"W":return"E";default:return null}},T=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)},O=function(e,t,i,n){switch(e){case"N":return n-1>=0?t[i][n-1]:void 0;case"E":return i+1<t.length?t[i+1][n]:void 0;case"S":return n+1<t[0].length?t[i][n+1]:void 0;case"W":return i-1>=0?t[i-1][n]:void 0;default:return}},p=function(e,t,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.walls[t]=n;var r=i[0][0].x,o=i[0][0].y,a=Math.abs(r-e.x),c=Math.abs(o-e.y);if(w(i,a,c).includes(t)){var l=O(t,i,a,c);l&&(l.walls[x(t)]=n)}},F=function(e,t,i,n){e.forEach((function(e){return p(e,t,i,n)}))},S=function(e,t){var i=t.map((function(t){return t[e]}));F(i,"S",t,!0);var n=i[T(1,i.length-1)];p(n,"S",t,!1)},k=function(e,t){var i=t[e];F(i,"E",t,!0);var n=i[T(1,i.length-1)];p(n,"E",t,!1)},E=function e(){Object(b.a)(this,e),this.N=void 0,this.E=void 0,this.S=void 0,this.W=void 0,this.N=!0,this.E=!0,this.S=!0,this.W=!0},W=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(){var e;return Object(b.a)(this,i),(e=t.call(this)).N=!1,e.E=!1,e.S=!1,e.W=!1,e}return i}(E),P=function e(t,i){Object(b.a)(this,e),this.x=void 0,this.y=void 0,this.walls=void 0,this.visited=void 0,this.backtracked=void 0,this.x=t,this.y=i,this.walls=new E,this.visited=!1,this.backtracked=!1},N=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e,n){var r;return Object(b.a)(this,i),(r=t.call(this,e,n)).currentArea=void 0,r.walls=new W,r.currentArea=!0,r}return i}(P),z=function(){function e(t,i){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(b.a)(this,e),this.height=void 0,this.width=void 0,this.grid=void 0,this.stack=void 0,this.frames=void 0,this.algorithm=void 0,this.drawEveryFrame=void 0,this.createFrame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length<1&&(e=n.grid),n.drawEveryFrame&&n.frames.push(Object(y.cloneDeep)(e))},this.generateGrid=function(){for(var e=0;e<n.width;e++){for(var t=[],i=0;i<n.height;i++)t.push(new P(e,i));n.grid.push(t)}},this.generateMaze=function(e){},this.height=i,this.width=t,this.grid=[],this.stack=[],this.algorithm="grid",this.drawEveryFrame=r,this.generateGrid(),this.frames=[Object(y.cloneDeep)(this.grid)]}return Object(v.a)(e,[{key:"draw",value:function(e,t,i){e.beginPath(),this.frames[i].forEach((function(i){e.strokeStyle="#800080",e.lineWidth=5,i.forEach((function(i){e.fillStyle="#FDA4BA",i.visited&&!i.backtracked&&e.fillRect(i.x*t,i.y*t,t+1,t+1),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,this.width*t,this.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(this.width*t,this.height*t-5),e.lineTo(this.width*t,this.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(this.width*t-t/4*3,this.height*t-t/4*3),e.lineTo(this.width*t-t/4,this.height*t-t/2),e.lineTo(this.width*t-t/4*3,this.height*t-t/4),e.fill()}}]),e}(),C=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(b.a)(this,i),(r=t.call(this,e,n,o)).generateMaze=function(e){e.visited=!0,r.createFrame();var t=j(e,r.grid),i=t[T(0,t.length-1)],n=O(i,r.grid,e.x,e.y);if(n||!(r.stack.length<1))if(n)p(e,i,r.grid,!1),r.stack.push(e),r.generateMaze(n);else{e.backtracked=!0;var o=r.stack.pop();o&&r.generateMaze(o)}};var a=performance.now();r.algorithm="recursiveBacktrackGenerate",r.generateMaze(r.grid[0][0]),r.grid[0][0].backtracked=!0,r.frames.push(Object(y.cloneDeep)(r.grid));var c=performance.now();return console.log("maze generated in: ",c-a," milliseconds."),r}return Object(v.a)(i,[{key:"draw",value:function(e,t,i){this.frames[i]&&(e.beginPath(),this.frames[i].forEach((function(i){e.strokeStyle="#800080",e.lineWidth=5,i.forEach((function(i){e.fillStyle="#FDA4BA",i.visited&&!i.backtracked&&e.fillRect(i.x*t,i.y*t,t+1,t+1),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,this.width*t,this.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(this.width*t,this.height*t-5),e.lineTo(this.width*t,this.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(this.width*t-t/4*3,this.height*t-t/4*3),e.lineTo(this.width*t-t/4,this.height*t-t/2),e.lineTo(this.width*t-t/4*3,this.height*t-t/4),e.fill())}}]),i}(z),A=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(b.a)(this,i),(r=t.call(this,e,n,o)).grid=void 0,r.frames=void 0,r.generateMaze=function(){r.frames=[r.grid],function e(t){var i,n,o;if(o=(i=t.length)<(n=t[0].length),!(i<=1||n<=1))if(r.grid.forEach((function(e){return e.forEach((function(e){return e.currentArea=!1}))})),t.forEach((function(e){return e.forEach((function(e){return e.currentArea=!0}))})),r.createFrame(),o){var a=T(0,n-2);S(a,t),r.createFrame();var c=[],l=[];t.forEach((function(e){c.push(e.slice(0,a+1)),l.push(e.slice(a+1))})),c[0].length&&e(c),l[0].length&&e(l)}else{var h=T(0,i-2);k(h,t),r.createFrame();var s=t.slice(0,h+1),u=t.slice(h+1);s.length&&e(s),u.length&&e(u)}}(r.grid),r.grid.forEach((function(e){return e.forEach((function(e){return e.currentArea=!1}))})),r.createFrame()},r.draw=function(e,t,i){e.beginPath(),r.frames[i]&&(r.frames[i].forEach((function(i){e.strokeStyle="#800080",e.lineWidth=5,i.forEach((function(i){e.fillStyle="#FDA4BA",i.currentArea&&e.fillRect(i.x*t,i.y*t,t+1,t+1),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,r.width*t,r.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(r.width*t,r.height*t-5),e.lineTo(r.width*t,r.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(r.width*t-t/4*3,r.height*t-t/4*3),e.lineTo(r.width*t-t/4,r.height*t-t/2),e.lineTo(r.width*t-t/4*3,r.height*t-t/4),e.fill())};var a=performance.now();r.algorithm="recursiveDivisionGenerate",r.grid=[];for(var c=0;c<e;c++){for(var l=[],h=0;h<n;h++)l.push(new N(c,h));r.grid.push(l)}var s=[],u=[];r.grid.forEach((function(e){s.push(e[0]),u.push(e[e.length-1])})),F(s,"N",r.grid,!0),F(u,"S",r.grid,!0),F(r.grid[0],"W",r.grid,!0),F(r.grid[r.grid.length-1],"E",r.grid,!0),r.frames=[r.grid],r.generateMaze();var d=performance.now();return console.log("maze generated in: ",d-a," milliseconds."),r}return i}(z),M=function(e){var t=e.maze,i=e.delayBetweenFrames,r=Object(n.useRef)(null),o=Object(n.useState)(0),a=Object(u.a)(o,2),c=a[0],l=a[1],s=Object(n.useState)(!1),d=Object(u.a)(s,2),f=d[0],v=d[1],g=Object(n.useState)(1),m=Object(u.a)(g,2),b=m[0],y=m[1],j=Object(n.useState)(document.createElement("canvas").getContext("2d")),w=Object(u.a)(j,2),x=w[0],T=w[1];return Object(n.useEffect)((function(){l(0);var e=r.current,i=e.getContext("2d"),n=e.parentElement;if(!f){i.canvas.width=null===n||void 0===n?void 0:n.offsetWidth,i.canvas.height=null===n||void 0===n?void 0:n.offsetHeight;for(var o=1;o*t.height<i.canvas.height-50&&o*t.width<i.canvas.width-50;)o+=1;y(o),v(!0),i.translate(5,5),T(i)}}),[t,f]),Object(n.useEffect)((function(){if(!x)throw new Error("No context");x.clearRect(0,0,t.width*b+300,t.height*b+100),x.font="20px Roboto",x.fillText("".concat(c+1," / ").concat(t.frames.length),0,t.height*b+30),t.draw(x,b,c),setTimeout((function(){c+1<t.frames.length&&l(c+1)}),i)}),[c,x,t,b,i]),Object(h.jsx)("canvas",{ref:r})},B=i(8),D=i(12),R=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e){var n;return Object(b.a)(this,i),(n=t.call(this,e)).distanceFromSource=void 0,n.moveCost=void 0,n.onPath=void 0,n.distanceFromSource=1/0,n.moveCost=1,n.onPath=!1,n}return i}(function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e){var n;return Object(b.a)(this,i),(n=t.call(this,e.x,e.y)).visited=void 0,n.walls=void 0,n.visited=!1,n.walls=e.walls,n}return i}(P)),_=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e,n){var r;Object(b.a)(this,i),(r=t.call(this,e.width,e.height,n)).grid=void 0,r.frames=void 0,r.mazeCells=void 0,r.generateGrid=function(){return r.mazeCells.map((function(e){return e.map((function(e){return new R(e)}))}))},r.updateNeighbourDistances=function(e){(function(e,t){var i=[];return Object.entries(e.walls).forEach((function(e){var t=Object(u.a)(e,2),n=t[0];t[1]&&i.push(n)})),["N","E","S","W"].filter((function(e){return!i.includes(e)})).map((function(i){return function(e,t,i){var n,r,o,a;switch(t){case"N":return(null===(n=i[e.x][e.y-1])||void 0===n?void 0:n.visited)?null:i[e.x][e.y-1];case"E":return(null===(r=i[e.x+1][e.y])||void 0===r?void 0:r.visited)?null:i[e.x+1][e.y];case"S":return(null===(o=i[e.x][e.y+1])||void 0===o?void 0:o.visited)?null:i[e.x][e.y+1];case"W":return(null===(a=i[e.x-1][e.y])||void 0===a?void 0:a.visited)?null:i[e.x-1][e.y];default:return null}}(e,i,t)})).filter((function(e){return e instanceof R}))})(e,r.grid).forEach((function(t){!function(e,t){t.distanceFromSource=e.distanceFromSource+t.moveCost}(e,t)}))},r.solve=function(){var e=performance.now(),t=r.grid[r.width-1][r.height-1],i=function(e){var t,i=[],n=Object(D.a)(e.grid);try{for(n.s();!(t=n.n()).done;){var r,o=t.value,a=Object(D.a)(o);try{for(a.s();!(r=a.n()).done;){var c=r.value;i.push(c)}}catch(l){a.e(l)}finally{a.f()}}}catch(l){n.e(l)}finally{n.f()}return i}(Object(B.a)(r)),n=r.grid[0][0];for(n.distanceFromSource=0;i.length;){i.sort((function(e,t){return e.distanceFromSource-t.distanceFromSource}));var o=i.shift();if(void 0===o)break;if(o.distanceFromSource===1/0)break;if(o===t)break;o.visited=!0,r.updateNeighbourDistances(o),r.createFrame()}for(var a=t;a!==n;){a.onPath=!0;var c=r.getClosestVisitableNeighbour(a);r.createFrame(),a=c}n.onPath=!0,r.frames.push(Object(y.cloneDeep)(r.grid));var l=performance.now();console.log("solved in:",l-e,"milliseconds.")},r.frames=[],r.algorithm="DijkstraSolve",r.mazeCells=e.grid,r.grid=r.generateGrid(),r.createFrame();try{r.solve()}catch(o){alert("This maze cannot be solved!"),console.log(o)}return r}return Object(v.a)(i,[{key:"getClosestVisitableNeighbour",value:function(e){var t=this,i=function(e){var t=[];return Object.entries(e.walls).forEach((function(e){var i=Object(u.a)(e,2),n=i[0];i[1]&&t.push(n)})),t}(e);return["N","E","S","W"].filter((function(e){return!i.includes(e)})).map((function(i){return function(e,t,i){var n,r,o,a;switch(e){case"N":return(null===(n=i[t.x][t.y-1])||void 0===n?void 0:n.onPath)?null:i[t.x][t.y-1];case"E":return(null===(r=i[t.x+1][t.y])||void 0===r?void 0:r.onPath)?null:i[t.x+1][t.y];case"S":return(null===(o=i[t.x][t.y+1])||void 0===o?void 0:o.onPath)?null:i[t.x][t.y+1];case"W":return(null===(a=i[t.x-1][t.y])||void 0===a?void 0:a.onPath)?null:i[t.x-1][t.y];default:return null}}(i,e,t.grid)})).filter((function(e){return e instanceof R})).reduce((function(e,t){return e.distanceFromSource<t.distanceFromSource?e:t}))}},{key:"draw",value:function(e,t,i){void 0!==this.frames[i]&&(e.strokeStyle="#800080",e.lineWidth=5,e.beginPath(),this.frames[i].forEach((function(i){i.forEach((function(i){i.visited&&(e.fillStyle="#FDA4BA",e.fillRect(i.x*t,i.y*t,t+1,t+1)),i.onPath&&(e.fillStyle="#00BFFF",e.fillRect(i.x*t,i.y*t,t,t)),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,this.width*t,this.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(this.width*t,this.height*t-5),e.lineTo(this.width*t,this.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(this.width*t-t/4*3,this.height*t-t/4*3),e.lineTo(this.width*t-t/4,this.height*t-t/2),e.lineTo(this.width*t-t/4*3,this.height*t-t/4),e.fill())}}]),i}(z),G=function(){var e=Object(n.useState)({width:30,height:15}),t=Object(u.a)(e,1)[0],i=Object(n.useState)(new z(t.width,t.height)),r=Object(u.a)(i,2),o=r[0],a=r[1],c=Object(n.useState)(1),l=Object(u.a)(c,2),s=l[0],d=l[1],v=Object(n.useState)(!0),g=Object(u.a)(v,2),m=g[0],b=g[1],j=Object(n.useRef)(null),w=Object(n.useRef)(null),x=Object(n.useRef)(null);return Object(h.jsx)("div",{className:f.a.mazeContainer,children:Object(h.jsxs)("div",{className:f.a.maze,id:"maze",children:[Object(h.jsx)(M,{maze:o,delayBetweenFrames:s}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{onClick:function(){a(Object(y.cloneDeep)(o))},children:"Re-run"}),Object(h.jsx)("button",{ref:w,onClick:function(){w.current&&w.current.setAttribute("disabled","disabled"),a(new C(t.width,t.height,m)),w.current&&w.current.removeAttribute("disabled")},children:"New Backtrack maze"}),Object(h.jsx)("button",{ref:x,onClick:function(){x.current&&x.current.setAttribute("disabled","disabled"),a(new A(t.width,t.height,m)),x.current&&x.current.removeAttribute("disabled")},children:"New Division maze"}),Object(h.jsx)("button",{ref:j,onClick:function(){j.current&&j.current.setAttribute("disabled","disabled"),a(new _(o,m)),j.current&&j.current.removeAttribute("disabled")},children:"Solve"}),"Interval:"," ",Object(h.jsx)("input",{type:"number",min:"1",max:"1000",step:"10",defaultValue:s,onChange:function(e){var t=Number(e.target.value);t=Math.max(t,0),t=Math.min(t,2e3),d(t)}})," ","ms.",Object(h.jsx)("input",{type:"checkbox",name:"animate",id:"animate",defaultChecked:!0,onChange:function(){b(!m)}}),"Animate"]})]})})};var J=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(s,{}),Object(h.jsx)(G,{})]})},I=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,25)).then((function(t){var i=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;i(e),n(e),r(e),o(e),a(e)}))};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(J,{})}),document.getElementById("root")),I()}},[[24,1,2]]]);
//# sourceMappingURL=main.84a5a016.chunk.js.map