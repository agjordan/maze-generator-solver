(this["webpackJsonpalgorithm-visualizer"]=this["webpackJsonpalgorithm-visualizer"]||[]).push([[0],{10:function(e,t,i){e.exports={mazeContainer:"Maze_mazeContainer__3Exuk",maze:"Maze_maze__2NaIp"}},13:function(e,t,i){e.exports={selectionBar:"SelectionBar_selectionBar__14QJ9"}},18:function(e,t,i){},19:function(e,t,i){},23:function(e,t,i){"use strict";i.r(t);var n=i(1),r=i.n(n),o=i(12),a=i.n(o),c=(i(18),i(19),i(13)),l=i.n(c),s=i(0),h=function(){return Object(s.jsx)("div",{className:l.a.selectionBar,children:Object(s.jsx)("h1",{children:"Maze Generator"})})},u=i(3),d=i(10),f=i.n(d),v=i(7),g=i(6),m=i(5),b=i(4),y=i(2),w=function e(){Object(b.a)(this,e),this.N=void 0,this.E=void 0,this.S=void 0,this.W=void 0,this.N=!0,this.E=!0,this.S=!0,this.W=!0},x=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(){var e;return Object(b.a)(this,i),(e=t.call(this)).N=!1,e.E=!1,e.S=!1,e.W=!1,e}return i}(w),j=function e(t,i){Object(b.a)(this,e),this.x=void 0,this.y=void 0,this.walls=void 0,this.visited=void 0,this.backtracked=void 0,this.x=t,this.y=i,this.walls=new w,this.visited=!1,this.backtracked=!1},T=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e,n){var r;return Object(b.a)(this,i),(r=t.call(this,e,n)).currentArea=void 0,r.walls=new x,r.currentArea=!0,r}return i}(j),O=function(e){switch(e){case"N":return"S";case"E":return"W";case"S":return"N";case"W":return"E";default:return null}},p=function(){function e(t,i){var n=this;Object(b.a)(this,e),this.height=void 0,this.width=void 0,this.grid=void 0,this.stack=void 0,this.frames=void 0,this.algorithm=void 0,this.possibleMoves=function(e){var t=[];return e.y-1>=0&&!n.grid[e.x][e.y-1].visited&&t.push("N"),e.x+1<n.width&&!n.grid[e.x+1][e.y].visited&&t.push("E"),e.y+1<n.height&&!n.grid[e.x][e.y+1].visited&&t.push("S"),e.x-1>=0&&!n.grid[e.x-1][e.y].visited&&t.push("W"),t},this.height=i<=50?i:50,this.width=t<=50?t:50,this.grid=[],this.stack=[],this.algorithm="grid";for(var r=0;r<t;r++){for(var o=[],a=0;a<i;a++)o.push(new j(r,a));this.grid.push(o)}this.frames=Object(y.cloneDeep)([this.grid]),this.grid[0][0].visited=!0}return Object(v.a)(e,[{key:"generateMaze",value:function(e){}},{key:"draw",value:function(e,t,i){e.beginPath(),this.frames[i].forEach((function(i){e.strokeStyle="#800080",e.lineWidth=5,i.forEach((function(i){e.fillStyle="#FDA4BA",i.visited&&!i.backtracked&&e.fillRect(i.x*t,i.y*t,t+1,t+1),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,this.width*t,this.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(this.width*t,this.height*t-5),e.lineTo(this.width*t,this.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(this.width*t-t/4*3,this.height*t-t/4*3),e.lineTo(this.width*t-t/4,this.height*t-t/2),e.lineTo(this.width*t-t/4*3,this.height*t-t/4),e.fill()}}]),e}(),S=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e,n){var r;Object(b.a)(this,i),(r=t.call(this,e,n)).generateMaze=function(e){var t=Object(y.cloneDeep)(r.grid);r.frames.push(t);var i=r.possibleMoves(e),n=i[Math.floor(Math.random()*i.length)],o=function(t){switch(t){case"N":return r.grid[e.x][e.y-1];case"E":return r.grid[e.x+1][e.y];case"S":return r.grid[e.x][e.y+1];case"W":return r.grid[e.x-1][e.y];default:return null}}(n),a=O(n);if(o||r.stack.length>0)if(o&&a)r.stack.push(e),e.walls[n]=!1,o.walls[a]=!1,o.visited=!0,r.generateMaze(o);else{e.backtracked=!0;var c=r.stack.pop();c&&r.generateMaze(c)}};var o=performance.now();r.algorithm="recursiveBacktrackGenerate",r.generateMaze(r.grid[0][0]);var a=r.frames.pop();a&&(a[0][0].backtracked=!0,r.frames.push(Object(y.cloneDeep)(a)));var c=performance.now();return console.log("maze generated in: ",c-o," milliseconds."),r}return Object(v.a)(i,[{key:"draw",value:function(e,t,i){e.beginPath(),this.frames[i].forEach((function(i){e.strokeStyle="#800080",e.lineWidth=5,i.forEach((function(i){e.fillStyle="#FDA4BA",i.visited&&!i.backtracked&&e.fillRect(i.x*t,i.y*t,t+1,t+1),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,this.width*t,this.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(this.width*t,this.height*t-5),e.lineTo(this.width*t,this.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(this.width*t-t/4*3,this.height*t-t/4*3),e.lineTo(this.width*t-t/4,this.height*t-t/2),e.lineTo(this.width*t-t/4*3,this.height*t-t/4),e.fill()}}]),i}(p),k=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e,n){var r;Object(b.a)(this,i),(r=t.call(this,e,n)).grid=void 0,r.frames=void 0,r.generateMaze=function(){var e=function(e,t){switch(t){case"N":return r.grid[e.x][e.y-1];case"E":return r.grid[e.x+1][e.y];case"S":return r.grid[e.x][e.y+1];case"W":return r.grid[e.x-1][e.y];default:return}},t=function(t,i){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.walls[i]=n;var r=e(t,i);r&&(r.walls[O(i)]=n)},i=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)};r.frames=[r.grid],function e(n){var o,a,c;if(c=(o=n.length)<(a=n[0].length),!(o<=1||a<=1))if(r.grid.forEach((function(e){return e.forEach((function(e){return e.currentArea=!1}))})),n.forEach((function(e){return e.forEach((function(e){return e.currentArea=!0}))})),r.frames.push(Object(y.cloneDeep)(r.grid)),c){var l=i(0,a-1);!function(e,n){var o=n.map((function(t){return t[e]}));o.forEach((function(e){t(e,"S",!0)}));var a=o[i(1,o.length-2)];t(a,"S",!1),r.frames.push(Object(y.cloneDeep)(r.grid))}(l,n);var s=[],h=[];n.forEach((function(e){s.push(e.slice(0,l+1)),h.push(e.slice(l+1))})),s[0].length&&e(s),h[0].length&&e(h)}else{var u=i(0,o-2);!function(e,n){var o=n[e];o.forEach((function(e){t(e,"E",!0)}));var a=o[i(1,o.length-2)];t(a,"E",!1),r.frames.push(Object(y.cloneDeep)(r.grid))}(u,n);var d=n.slice(0,u+1),f=n.slice(u+1);d.length&&e(d),f.length&&e(f)}}(r.grid),r.grid.forEach((function(e){return e.forEach((function(e){return e.currentArea=!1}))})),r.frames.push(Object(y.cloneDeep)(r.grid)),console.log("generated")},r.draw=function(e,t,i){e.beginPath(),r.frames[i]&&(r.frames[i].forEach((function(i){e.strokeStyle="#800080",e.lineWidth=5,i.forEach((function(i){e.fillStyle="#FDA4BA",i.currentArea&&e.fillRect(i.x*t,i.y*t,t+1,t+1),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,r.width*t,r.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(r.width*t,r.height*t-5),e.lineTo(r.width*t,r.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(r.width*t-t/4*3,r.height*t-t/4*3),e.lineTo(r.width*t-t/4,r.height*t-t/2),e.lineTo(r.width*t-t/4*3,r.height*t-t/4),e.fill())};var o=performance.now();r.algorithm="recursiveDivisionGenerate",r.grid=[];for(var a=0;a<e;a++){for(var c=[],l=0;l<n;l++)c.push(new T(a,l));r.grid.push(c)}r.grid[0].forEach((function(e){return e.walls.W=!0})),r.grid[r.grid.length-1].forEach((function(e){return e.walls.E=!0})),r.grid.forEach((function(e){e[0].walls.N=!0,e[e.length-1].walls.S=!0})),r.frames=[r.grid],r.generateMaze();var s=performance.now();return console.log("maze generated in: ",s-o," milliseconds."),r}return i}(p),E=function(e){var t=e.maze,i=e.delayBetweenFrames,r=Object(n.useRef)(null),o=Object(n.useState)(0),a=Object(u.a)(o,2),c=a[0],l=a[1],h=Object(n.useState)(!1),d=Object(u.a)(h,2),f=d[0],v=d[1],g=Object(n.useState)(1),m=Object(u.a)(g,2),b=m[0],y=m[1],w=Object(n.useState)(document.createElement("canvas").getContext("2d")),x=Object(u.a)(w,2),j=x[0],T=x[1];return Object(n.useEffect)((function(){l(0);var e=r.current,i=e.getContext("2d"),n=e.parentElement;if(!f){i.canvas.width=null===n||void 0===n?void 0:n.offsetWidth,i.canvas.height=null===n||void 0===n?void 0:n.offsetHeight;for(var o=1;o*t.height<i.canvas.height-50&&o*t.width<i.canvas.width-50;)o+=1;y(o),v(!0),i.translate(5,5),T(i)}}),[t,f]),Object(n.useEffect)((function(){if(!j)throw new Error("No context");j.clearRect(0,0,t.width*b+300,t.height*b+100),j.font="20px Roboto",j.fillText("".concat(c+1," / ").concat(t.frames.length),0,t.height*b+30),t.draw(j,b,c),setTimeout((function(){c+1<t.frames.length&&l(c+1)}),i)}),[c,j,t,b,i]),Object(s.jsx)("canvas",{ref:r})},F=i(11),N=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e){var n;return Object(b.a)(this,i),(n=t.call(this,e)).distanceFromSource=void 0,n.moveCost=void 0,n.onPath=void 0,n.distanceFromSource=1/0,n.moveCost=1,n.onPath=!1,n}return Object(v.a)(i,[{key:"setDistanceFromSource",value:function(e){this.distanceFromSource=e}}]),i}(function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e){var n;return Object(b.a)(this,i),(n=t.call(this,e.x,e.y)).visited=void 0,n.walls=void 0,n.visited=!1,n.walls=e.walls,n}return i}(j)),W=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e){var n;return Object(b.a)(this,i),(n=t.call(this,e.width,e.height)).grid=void 0,n.frames=void 0,n.getUnvisitedNeighbours=function(e){var t=[];Object.entries(e.walls).forEach((function(e){var i=Object(u.a)(e,2),n=i[0];i[1]&&t.push(n)}));return["N","E","S","W"].filter((function(e){return!t.includes(e)})).map((function(t){return function(t){var i,r,o,a;switch(t){case"N":return(null===(i=n.grid[e.x][e.y-1])||void 0===i?void 0:i.visited)?null:n.grid[e.x][e.y-1];case"E":return(null===(r=n.grid[e.x+1][e.y])||void 0===r?void 0:r.visited)?null:n.grid[e.x+1][e.y];case"S":return(null===(o=n.grid[e.x][e.y+1])||void 0===o?void 0:o.visited)?null:n.grid[e.x][e.y+1];case"W":return(null===(a=n.grid[e.x-1][e.y])||void 0===a?void 0:a.visited)?null:n.grid[e.x-1][e.y];default:return null}}(t)})).filter((function(e){return e instanceof N}))},n.getAllNodes=function(){var e,t=[],i=Object(F.a)(n.grid);try{for(i.s();!(e=i.n()).done;){var r,o=e.value,a=Object(F.a)(o);try{for(a.s();!(r=a.n()).done;){var c=r.value;t.push(c)}}catch(l){a.e(l)}finally{a.f()}}}catch(l){i.e(l)}finally{i.f()}return t},n.updateNeighbourDistances=function(e){n.getUnvisitedNeighbours(e).forEach((function(t){!function(e,t){t.distanceFromSource=e.distanceFromSource+t.moveCost}(e,t)}))},n.solve=function(){var e=performance.now(),t=n.grid[n.width-1][n.height-1],i=n.getAllNodes(),r=n.grid[0][0];for(r.distanceFromSource=0;i.length;){i.sort((function(e,t){return e.distanceFromSource-t.distanceFromSource}));var o=i.shift();if(void 0===o)break;if(o.distanceFromSource===1/0)break;if(o===t)break;o.visited=!0,n.updateNeighbourDistances(o),n.frames.push(Object(y.cloneDeep)(n.grid))}for(var a=t;a!==r;){a.onPath=!0;var c=n.getBestPathNeighbor(a);n.frames.push(Object(y.cloneDeep)(n.grid)),a=c}r.onPath=!0,n.frames.push(Object(y.cloneDeep)(n.grid));var l=performance.now();console.log("solved in:",l-e,"milliseconds.")},n.frames=[],n.algorithm="DijkstraSolve",n.grid=e.grid.map((function(e){return e.map((function(e){return new N(e)}))})),n.solve(),n}return Object(v.a)(i,[{key:"getBestPathNeighbor",value:function(e){var t=this,i=[];Object.entries(e.walls).forEach((function(e){var t=Object(u.a)(e,2),n=t[0];t[1]&&i.push(n)}));return["N","E","S","W"].filter((function(e){return!i.includes(e)})).map((function(i){return function(i){var n,r,o,a;switch(i){case"N":return(null===(n=t.grid[e.x][e.y-1])||void 0===n?void 0:n.onPath)?null:t.grid[e.x][e.y-1];case"E":return(null===(r=t.grid[e.x+1][e.y])||void 0===r?void 0:r.onPath)?null:t.grid[e.x+1][e.y];case"S":return(null===(o=t.grid[e.x][e.y+1])||void 0===o?void 0:o.onPath)?null:t.grid[e.x][e.y+1];case"W":return(null===(a=t.grid[e.x-1][e.y])||void 0===a?void 0:a.onPath)?null:t.grid[e.x-1][e.y];default:return null}}(i)})).filter((function(e){return e instanceof N})).reduce((function(e,t){return e.distanceFromSource<t.distanceFromSource?e:t}))}},{key:"draw",value:function(e,t,i){e.clearRect(0,0,t*this.width,t*this.height),void 0!==this.frames[i]&&(e.strokeStyle="#800080",e.lineWidth=5,e.beginPath(),this.frames[i].forEach((function(i){i.forEach((function(i){i.visited&&(e.fillStyle="#FDA4BA",e.fillRect(i.x*t,i.y*t,t+1,t+1)),i.onPath&&(e.fillStyle="#00BFFF",e.fillRect(i.x*t,i.y*t,t,t)),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,this.width*t,this.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(this.width*t,this.height*t-5),e.lineTo(this.width*t,this.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(this.width*t-t/4*3,this.height*t-t/4*3),e.lineTo(this.width*t-t/4,this.height*t-t/2),e.lineTo(this.width*t-t/4*3,this.height*t-t/4),e.fill())}}]),i}(p),P=function(){var e=Object(n.useState)({width:15,height:10}),t=Object(u.a)(e,1)[0],i=Object(n.useState)(new p(t.width,t.height)),r=Object(u.a)(i,2),o=r[0],a=r[1],c=Object(n.useState)(1),l=Object(u.a)(c,2),h=l[0],d=l[1];return console.log(o),Object(s.jsx)("div",{className:f.a.mazeContainer,children:Object(s.jsxs)("div",{className:f.a.maze,id:"maze",children:[Object(s.jsx)(E,{maze:o,delayBetweenFrames:h}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:function(){a(Object(y.cloneDeep)(o))},children:"Re-run"}),Object(s.jsx)("button",{onClick:function(){a(new S(t.width,t.height))},children:"New Backtrack maze"}),Object(s.jsx)("button",{onClick:function(){a(new k(t.width,t.height))},children:"New Division maze"}),"Interval:"," ",Object(s.jsx)("input",{type:"number",min:"1",max:"1000",step:"10",defaultValue:h,onChange:function(e){var t=Number(e.target.value);t=Math.max(t,0),t=Math.min(t,2e3),d(t)}})," ","ms.",Object(s.jsx)("button",{onClick:function(){a(new W(o))},children:"Solve"})]})]})})};var z=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(h,{}),Object(s.jsx)(P,{})]})},D=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,24)).then((function(t){var i=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;i(e),n(e),r(e),o(e),a(e)}))};a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(z,{})}),document.getElementById("root")),D()}},[[23,1,2]]]);
//# sourceMappingURL=main.78d00526.chunk.js.map