(this["webpackJsonpalgorithm-visualizer"]=this["webpackJsonpalgorithm-visualizer"]||[]).push([[0],{10:function(e,t,i){e.exports={mazeContainer:"Maze_mazeContainer__3Exuk",maze:"Maze_maze__2NaIp"}},13:function(e,t,i){e.exports={selectionBar:"SelectionBar_selectionBar__14QJ9"}},18:function(e,t,i){},19:function(e,t,i){},23:function(e,t,i){"use strict";i.r(t);var n=i(1),r=i.n(n),o=i(12),a=i.n(o),c=(i(18),i(19),i(13)),h=i.n(c),l=i(0),s=function(){return Object(l.jsx)("div",{className:h.a.selectionBar,children:Object(l.jsx)("h1",{children:"Maze Generator"})})},u=i(3),d=i(10),f=i.n(d),v=i(7),g=i(6),m=i(5),b=i(4),y=i(2),x=function(e,t,i){var n=[];return i-1>=0&&n.push("N"),t+1<e.length&&n.push("E"),i+1<e[0].length&&n.push("S"),t-1>=0&&n.push("W"),n},j=function(e){switch(e){case"N":return"S";case"E":return"W";case"S":return"N";case"W":return"E";default:return null}},w=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)},T=function(e,t,i,n){switch(e){case"N":return n-1>=0?t[i][n-1]:void 0;case"E":return i+1<t.length?t[i+1][n]:void 0;case"S":return n+1<t[0].length?t[i][n+1]:void 0;case"W":return i-1>=0?t[i-1][n]:void 0;default:return}},O=function(e,t,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.walls[t]=n;var r=i[0][0].x,o=i[0][0].y,a=Math.abs(r-e.x),c=Math.abs(o-e.y);if(x(i,a,c).includes(t)){var h=T(t,i,a,c);h&&(h.walls[j(t)]=n,console.log([e.x,e.y],t,[h.x,h.y]))}else console.log([e.x,e.y],t,"no neighbour")},p=function(e,t,i,n){e.forEach((function(e){return O(e,t,i,n)}))},S=function e(){Object(b.a)(this,e),this.N=void 0,this.E=void 0,this.S=void 0,this.W=void 0,this.N=!0,this.E=!0,this.S=!0,this.W=!0},k=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(){var e;return Object(b.a)(this,i),(e=t.call(this)).N=!1,e.E=!1,e.S=!1,e.W=!1,e}return i}(S),F=function e(t,i){Object(b.a)(this,e),this.x=void 0,this.y=void 0,this.walls=void 0,this.visited=void 0,this.backtracked=void 0,this.x=t,this.y=i,this.walls=new S,this.visited=!1,this.backtracked=!1},E=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e,n){var r;return Object(b.a)(this,i),(r=t.call(this,e,n)).currentArea=void 0,r.walls=new k,r.currentArea=!0,r}return i}(F),N=function(){function e(t,i){var n=this;Object(b.a)(this,e),this.height=void 0,this.width=void 0,this.grid=void 0,this.stack=void 0,this.frames=void 0,this.algorithm=void 0,this.createFrame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length<1&&(e=Object(y.cloneDeep)(n.grid)),n.frames.push(Object(y.cloneDeep)(e))},this.height=i<=50?i:50,this.width=t<=50?t:50,this.grid=[],this.stack=[],this.algorithm="grid";for(var r=0;r<t;r++){for(var o=[],a=0;a<i;a++)o.push(new F(r,a));this.grid.push(o)}this.frames=[Object(y.cloneDeep)(this.grid)]}return Object(v.a)(e,[{key:"generateMaze",value:function(e){}},{key:"draw",value:function(e,t,i){e.beginPath(),this.frames[i].forEach((function(i){e.strokeStyle="#800080",e.lineWidth=5,i.forEach((function(i){e.fillStyle="#FDA4BA",i.visited&&!i.backtracked&&e.fillRect(i.x*t,i.y*t,t+1,t+1),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,this.width*t,this.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(this.width*t,this.height*t-5),e.lineTo(this.width*t,this.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(this.width*t-t/4*3,this.height*t-t/4*3),e.lineTo(this.width*t-t/4,this.height*t-t/2),e.lineTo(this.width*t-t/4*3,this.height*t-t/4),e.fill()}}]),e}(),W=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e,n){var r;Object(b.a)(this,i),(r=t.call(this,e,n)).generateMaze=function(e){e.visited=!0,r.createFrame();var t=function(e,t){var i=[];return e.y-1>=0&&!t[e.x][e.y-1].visited&&i.push("N"),e.x+1<t.length&&!t[e.x+1][e.y].visited&&i.push("E"),e.y+1<t[0].length&&!t[e.x][e.y+1].visited&&i.push("S"),e.x-1>=0&&!t[e.x-1][e.y].visited&&i.push("W"),i}(e,r.grid),i=t[w(0,t.length-1)],n=T(i,r.grid,e.x,e.y);if(n||!(r.stack.length<1))if(n)O(e,i,r.grid,!1),r.stack.push(e),r.generateMaze(n);else{e.backtracked=!0;var o=r.stack.pop();o&&r.generateMaze(o)}};var o=performance.now();r.algorithm="recursiveBacktrackGenerate",r.generateMaze(r.grid[0][0]);var a=r.frames.pop();a&&(a[0][0].backtracked=!0,r.createFrame(Object(y.cloneDeep)(a)));var c=performance.now();return console.log("maze generated in: ",c-o," milliseconds."),r}return Object(v.a)(i,[{key:"draw",value:function(e,t,i){e.beginPath(),this.frames[i].forEach((function(i){e.strokeStyle="#800080",e.lineWidth=5,i.forEach((function(i){e.fillStyle="#FDA4BA",i.visited&&!i.backtracked&&e.fillRect(i.x*t,i.y*t,t+1,t+1),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,this.width*t,this.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(this.width*t,this.height*t-5),e.lineTo(this.width*t,this.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(this.width*t-t/4*3,this.height*t-t/4*3),e.lineTo(this.width*t-t/4,this.height*t-t/2),e.lineTo(this.width*t-t/4*3,this.height*t-t/4),e.fill()}}]),i}(N),P=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e,n){var r;Object(b.a)(this,i),(r=t.call(this,e,n)).grid=void 0,r.frames=void 0,r.generateMaze=function(){r.frames=[r.grid],function e(t){var i,n,o;if(o=(i=t.length)<(n=t[0].length),!(i<=1||n<=1))if(r.grid.forEach((function(e){return e.forEach((function(e){return e.currentArea=!1}))})),t.forEach((function(e){return e.forEach((function(e){return e.currentArea=!0}))})),r.createFrame(),o){var a=w(0,n-2);!function(e,t){var i=t.map((function(t){return t[e]}));p(i,"S",t,!0);var n=i[w(1,i.length-2)];O(n,"S",t,!1)}(a,t),r.createFrame();var c=[],h=[];t.forEach((function(e){c.push(e.slice(0,a+1)),h.push(e.slice(a+1))})),c[0].length&&e(c),h[0].length&&e(h)}else{var l=w(0,i-2);!function(e,t){var i=t[e];p(i,"E",t,!0);var n=i[w(1,i.length-2)];O(n,"E",t,!1)}(l,t),r.createFrame();var s=t.slice(0,l+1),u=t.slice(l+1);s.length&&e(s),u.length&&e(u)}}(r.grid),r.grid.forEach((function(e){return e.forEach((function(e){return e.currentArea=!1}))})),r.frames.push(Object(y.cloneDeep)(r.grid))},r.draw=function(e,t,i){e.beginPath(),r.frames[i]&&(r.frames[i].forEach((function(i){e.strokeStyle="#800080",e.lineWidth=5,i.forEach((function(i){e.fillStyle="#FDA4BA",i.currentArea&&e.fillRect(i.x*t,i.y*t,t+1,t+1),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,r.width*t,r.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(r.width*t,r.height*t-5),e.lineTo(r.width*t,r.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(r.width*t-t/4*3,r.height*t-t/4*3),e.lineTo(r.width*t-t/4,r.height*t-t/2),e.lineTo(r.width*t-t/4*3,r.height*t-t/4),e.fill())};var o=performance.now();r.algorithm="recursiveDivisionGenerate",r.grid=[];for(var a=0;a<e;a++){for(var c=[],h=0;h<n;h++)c.push(new E(a,h));r.grid.push(c)}var l=[],s=[];r.grid.forEach((function(e){l.push(e[0]),s.push(e[e.length-1])})),p(l,"N",r.grid,!0),p(s,"S",r.grid,!0),p(r.grid[0],"W",r.grid,!0),p(r.grid[r.grid.length-1],"E",r.grid,!0),r.frames=[r.grid],r.generateMaze();var u=performance.now();return console.log("maze generated in: ",u-o," milliseconds."),r}return i}(N),z=function(e){var t=e.maze,i=e.delayBetweenFrames,r=Object(n.useRef)(null),o=Object(n.useState)(0),a=Object(u.a)(o,2),c=a[0],h=a[1],s=Object(n.useState)(!1),d=Object(u.a)(s,2),f=d[0],v=d[1],g=Object(n.useState)(1),m=Object(u.a)(g,2),b=m[0],y=m[1],x=Object(n.useState)(document.createElement("canvas").getContext("2d")),j=Object(u.a)(x,2),w=j[0],T=j[1];return Object(n.useEffect)((function(){h(0);var e=r.current,i=e.getContext("2d"),n=e.parentElement;if(!f){i.canvas.width=null===n||void 0===n?void 0:n.offsetWidth,i.canvas.height=null===n||void 0===n?void 0:n.offsetHeight;for(var o=1;o*t.height<i.canvas.height-50&&o*t.width<i.canvas.width-50;)o+=1;y(o),v(!0),i.translate(5,5),T(i)}}),[t,f]),Object(n.useEffect)((function(){if(!w)throw new Error("No context");w.clearRect(0,0,t.width*b+300,t.height*b+100),w.font="20px Roboto",w.fillText("".concat(c+1," / ").concat(t.frames.length),0,t.height*b+30),t.draw(w,b,c),setTimeout((function(){c+1<t.frames.length&&h(c+1)}),i)}),[c,w,t,b,i]),Object(l.jsx)("canvas",{ref:r})},D=i(11),M=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e){var n;return Object(b.a)(this,i),(n=t.call(this,e)).distanceFromSource=void 0,n.moveCost=void 0,n.onPath=void 0,n.distanceFromSource=1/0,n.moveCost=1,n.onPath=!1,n}return Object(v.a)(i,[{key:"setDistanceFromSource",value:function(e){this.distanceFromSource=e}}]),i}(function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e){var n;return Object(b.a)(this,i),(n=t.call(this,e.x,e.y)).visited=void 0,n.walls=void 0,n.visited=!1,n.walls=e.walls,n}return i}(F)),A=function(e){Object(g.a)(i,e);var t=Object(m.a)(i);function i(e){var n;return Object(b.a)(this,i),(n=t.call(this,e.width,e.height)).grid=void 0,n.frames=void 0,n.getUnvisitedNeighbours=function(e){var t=[];Object.entries(e.walls).forEach((function(e){var i=Object(u.a)(e,2),n=i[0];i[1]&&t.push(n)}));return["N","E","S","W"].filter((function(e){return!t.includes(e)})).map((function(t){return function(t){var i,r,o,a;switch(t){case"N":return(null===(i=n.grid[e.x][e.y-1])||void 0===i?void 0:i.visited)?null:n.grid[e.x][e.y-1];case"E":return(null===(r=n.grid[e.x+1][e.y])||void 0===r?void 0:r.visited)?null:n.grid[e.x+1][e.y];case"S":return(null===(o=n.grid[e.x][e.y+1])||void 0===o?void 0:o.visited)?null:n.grid[e.x][e.y+1];case"W":return(null===(a=n.grid[e.x-1][e.y])||void 0===a?void 0:a.visited)?null:n.grid[e.x-1][e.y];default:return null}}(t)})).filter((function(e){return e instanceof M}))},n.getAllNodes=function(){var e,t=[],i=Object(D.a)(n.grid);try{for(i.s();!(e=i.n()).done;){var r,o=e.value,a=Object(D.a)(o);try{for(a.s();!(r=a.n()).done;){var c=r.value;t.push(c)}}catch(h){a.e(h)}finally{a.f()}}}catch(h){i.e(h)}finally{i.f()}return t},n.updateNeighbourDistances=function(e){n.getUnvisitedNeighbours(e).forEach((function(t){!function(e,t){t.distanceFromSource=e.distanceFromSource+t.moveCost}(e,t)}))},n.solve=function(){var e=performance.now(),t=n.grid[n.width-1][n.height-1],i=n.getAllNodes(),r=n.grid[0][0];for(r.distanceFromSource=0;i.length;){i.sort((function(e,t){return e.distanceFromSource-t.distanceFromSource}));var o=i.shift();if(void 0===o)break;if(o.distanceFromSource===1/0)break;if(o===t)break;o.visited=!0,n.updateNeighbourDistances(o),n.frames.push(Object(y.cloneDeep)(n.grid))}for(var a=t;a!==r;){a.onPath=!0;var c=n.getBestPathNeighbor(a);n.frames.push(Object(y.cloneDeep)(n.grid)),a=c}r.onPath=!0,n.frames.push(Object(y.cloneDeep)(n.grid));var h=performance.now();console.log("solved in:",h-e,"milliseconds.")},n.frames=[],n.algorithm="DijkstraSolve",n.grid=e.grid.map((function(e){return e.map((function(e){return new M(e)}))})),n.solve(),n}return Object(v.a)(i,[{key:"getBestPathNeighbor",value:function(e){var t=this,i=[];Object.entries(e.walls).forEach((function(e){var t=Object(u.a)(e,2),n=t[0];t[1]&&i.push(n)}));return["N","E","S","W"].filter((function(e){return!i.includes(e)})).map((function(i){return function(i){var n,r,o,a;switch(i){case"N":return(null===(n=t.grid[e.x][e.y-1])||void 0===n?void 0:n.onPath)?null:t.grid[e.x][e.y-1];case"E":return(null===(r=t.grid[e.x+1][e.y])||void 0===r?void 0:r.onPath)?null:t.grid[e.x+1][e.y];case"S":return(null===(o=t.grid[e.x][e.y+1])||void 0===o?void 0:o.onPath)?null:t.grid[e.x][e.y+1];case"W":return(null===(a=t.grid[e.x-1][e.y])||void 0===a?void 0:a.onPath)?null:t.grid[e.x-1][e.y];default:return null}}(i)})).filter((function(e){return e instanceof M})).reduce((function(e,t){return e.distanceFromSource<t.distanceFromSource?e:t}))}},{key:"draw",value:function(e,t,i){e.clearRect(0,0,t*this.width,t*this.height),void 0!==this.frames[i]&&(e.strokeStyle="#800080",e.lineWidth=5,e.beginPath(),this.frames[i].forEach((function(i){i.forEach((function(i){i.visited&&(e.fillStyle="#FDA4BA",e.fillRect(i.x*t,i.y*t,t+1,t+1)),i.onPath&&(e.fillStyle="#00BFFF",e.fillRect(i.x*t,i.y*t,t,t)),e.moveTo(i.x*t-2.5,i.y*t),i.walls.N?e.lineTo(i.x*t+t,i.y*t):e.moveTo(i.x*t+t,i.y*t),i.walls.E?e.lineTo(i.x*t+t,i.y*t+t):e.moveTo(i.x*t+t,i.y*t+t),i.walls.S?e.lineTo(i.x*t,i.y*t+t):e.moveTo(i.x*t,i.y*t+t),i.walls.W?e.lineTo(i.x*t,i.y*t):e.moveTo(i.x*t,i.y*t)}))})),e.stroke(),e.beginPath(),e.lineJoin="round",e.lineWidth=10,e.rect(0,0,this.width*t,this.height*t),e.stroke(),e.beginPath(),e.lineWidth=10,e.strokeStyle="#FFFFFF",e.moveTo(0,5),e.lineTo(0,t-2.5),e.moveTo(this.width*t,this.height*t-5),e.lineTo(this.width*t,this.height*t-t+2.5),e.stroke(),e.beginPath(),e.lineWidth=3,e.fillStyle="#000000",e.moveTo(t/4,t/4),e.lineTo(t/4*3,t/2),e.lineTo(t/4,t/4*3),e.fill(),e.beginPath(),e.moveTo(this.width*t-t/4*3,this.height*t-t/4*3),e.lineTo(this.width*t-t/4,this.height*t-t/2),e.lineTo(this.width*t-t/4*3,this.height*t-t/4),e.fill())}}]),i}(N),B=function(){var e=Object(n.useState)({width:15,height:10}),t=Object(u.a)(e,1)[0],i=Object(n.useState)(new N(t.width,t.height)),r=Object(u.a)(i,2),o=r[0],a=r[1],c=Object(n.useState)(1),h=Object(u.a)(c,2),s=h[0],d=h[1];return Object(l.jsx)("div",{className:f.a.mazeContainer,children:Object(l.jsxs)("div",{className:f.a.maze,id:"maze",children:[Object(l.jsx)(z,{maze:o,delayBetweenFrames:s}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(){a(Object(y.cloneDeep)(o))},children:"Re-run"}),Object(l.jsx)("button",{onClick:function(){a(new W(t.width,t.height))},children:"New Backtrack maze"}),Object(l.jsx)("button",{onClick:function(){a(new P(t.width,t.height))},children:"New Division maze"}),Object(l.jsx)("button",{onClick:function(){a(new A(o))},children:"Solve"}),"Interval:"," ",Object(l.jsx)("input",{type:"number",min:"1",max:"1000",step:"10",defaultValue:s,onChange:function(e){var t=Number(e.target.value);t=Math.max(t,0),t=Math.min(t,2e3),d(t)}})," ","ms."]})]})})};var C=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(s,{}),Object(l.jsx)(B,{})]})},R=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,24)).then((function(t){var i=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;i(e),n(e),r(e),o(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root")),R()}},[[23,1,2]]]);
//# sourceMappingURL=main.95840895.chunk.js.map